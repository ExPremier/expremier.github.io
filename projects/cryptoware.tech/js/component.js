(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{252:function(e,t,n){"use strict";n.r(t),n.d(t,"query",function(){return g});n(4);var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(264),c=n.n(a),h=n(66),u=n(24),d=n(3),p=n(253),f=n.n(p),m=function(e){var t=e.data.page,n=t.blocks,o=t.seo,s=e.location.pathname;Object(u.c)();var a=Object(i.useRef)(!0),p=Object(u.a)(),m=p[0],g=p[1],l=Object(i.useRef)(null),v=Object(i.useState)(!1),y=v[0],E=v[1],b=Object(i.useMemo)(function(){var e=0,t=0;return n.map(function(n){var i;return n.image?(i=e,e+=1):(i=t,t+=1),Object.assign({},n,{sectionIdx:i})})},[n]);return Object(i.useEffect)(function(){if(y)return function e(){a.current&&(m.current.forEach(function(e){var t=e.isInsideViewport,n=e.isVisible,i=e.render,r=e.update;n.current?t.current?i():(t.current=!0,r()):t.current&&(t.current=!1)}),l.current=requestAnimationFrame(e))}(),function(){l.current&&(cancelAnimationFrame(l.current),l.current=null)}},[y]),Object(i.useEffect)(function(){if(m.current){var e=m.current.reduce(function(e,t){var n=t.imgEl;return n&&e.push(n),e},[]);e.length>0&&c()(e,{background:!0},function(){E(!0)})}return function(){a.current=!1}},[]),r.a.createElement(h.d,{className:f.a.page,hasMaxWidth:!0,tag:"section"},r.a.createElement(h.l,Object.assign({},o,{pathname:s})),b.map(function(e,t){var n=e.body,i=e.image,o=e.sectionIdx,s=e.title,a=!!i,c=a?r.a.createElement(h.b,{ref:g(o),alt:i.title,captionBody:n,captionHeading:s,image:i.file,isLoaded:y}):r.a.createElement(h.m,{title:s},Object(d.d)(n));return r.a.createElement(h.e,{key:t,isMedia:a},c)}))};m.propTypes={data:s.a.shape({page:s.a.shape({blocks:s.a.arrayOf(s.a.object).isRequired,seo:s.a.object.isRequired}).isRequired}).isRequired,location:s.a.shape({pathname:s.a.string.isRequired}).isRequired},t.default=m;var g="2880889146"},264:function(e,t,n){var i,r;!function(o,s){"use strict";i=[n(265)],void 0===(r=function(e){return function(e,t){var n=e.jQuery,i=e.console;function r(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function s(e,t,a){if(!(this instanceof s))return new s(e,t,a);var c=e;"string"==typeof e&&(c=document.querySelectorAll(e)),c?(this.elements=function(e){if(Array.isArray(e))return e;if("object"==typeof e&&"number"==typeof e.length)return o.call(e);return[e]}(c),this.options=r({},this.options),"function"==typeof t?a=t:r(this.options,t),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(c||e))}s.prototype=Object.create(t.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&a[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function c(e){this.img=e}function h(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,e),i=n.exec(t.backgroundImage)}},s.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},s.prototype.addBackground=function(e,t){var n=new h(e,t);this.images.push(n)},s.prototype.check=function(){var e=this;function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},s.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},c.prototype=Object.create(t.prototype),c.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype=Object.create(c.prototype),h.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},h.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},h.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(o,e)}.apply(t,i))||(e.exports=r)}("undefined"!=typeof window?window:this)},265:function(e,t,n){var i,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=r)}}]);
//# sourceMappingURL=component---src-pages-index-js-30ee35b78767acd38988.js.map